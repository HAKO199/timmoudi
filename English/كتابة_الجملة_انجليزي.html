<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 900px;
            padding: 30px;
            text-align: center;
        }
        
        h1 {
            color: #2d3748;
            margin-bottom: 10px;
            font-size: 2.5rem;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .subtitle {
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 1.2rem;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #edf2f7;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
        }
        
        .score-container, .level-container, .streak-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .score-label, .level-label, .streak-label {
            font-weight: bold;
            color: #4a5568;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .score-value, .level-value, .streak-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2b6cb0;
        }
        
        .streak-value {
            color: #e53e3e;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .sentence-container {
            background: #f7fafc;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            width: 100%;
        }
        
        .sentence-arabic {
            font-size: 1.8rem;
            color: #2d3748;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .sentence-english {
            font-size: 1.5rem;
            color: #4a5568;
            margin-bottom: 25px;
            direction: ltr;
            font-style: italic;
        }
        
        .input-container {
            width: 100%;
            margin: 20px 0;
        }
        
        .sentence-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.3rem;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            text-align: center;
            direction: ltr;
            transition: all 0.3s ease;
        }
        
        .sentence-input:focus {
            outline: none;
            border-color: #4299e1;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
        }
        
        .sentence-input.correct {
            border-color: #48bb78;
            background-color: #f0fff4;
        }
        
        .sentence-input.incorrect {
            border-color: #f56565;
            background-color: #fff5f5;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .control-btn {
            background: #4299e1;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .control-btn:hover {
            background: #3182ce;
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .control-btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .pronounce-btn {
            background: #805ad5;
        }
        
        .pronounce-btn:hover {
            background: #6b46c1;
        }
        
        .hint-btn {
            background: #ed8936;
        }
        
        .hint-btn:hover {
            background: #dd6b20;
        }
        
        .feedback {
            font-size: 1.3rem;
            font-weight: bold;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .feedback.correct {
            background: #c6f6d5;
            color: #22543d;
        }
        
        .feedback.incorrect {
            background: #fed7d7;
            color: #742a2a;
        }
        
        .progress-container {
            margin-top: 20px;
            background: #e2e8f0;
            border-radius: 10px;
            height: 12px;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .sound-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }
        
        .sound-btn {
            background: #e2e8f0;
            border: none;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .sound-btn.active {
            background: #4299e1;
            color: white;
        }
        
        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: center;
            margin: 10px 0;
        }
        
        .volume-slider {
            width: 100px;
        }
        
        .auto-next-indicator {
            font-size: 0.9rem;
            color: #4a5568;
            margin-top: 10px;
        }
        
        .hint-text {
            font-size: 1.1rem;
            color: #4a5568;
            background: #fffaf0;
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            direction: ltr;
        }
        
        .instruction {
            font-size: 1rem;
            color: #4a5568;
            margin: 10px 0;
            background: #ebf8ff;
            padding: 10px;
            border-radius: 8px;
        }
        
        @media (max-width: 768px) {
            .sentence-arabic {
                font-size: 1.5rem;
            }
            
            .sentence-english {
                font-size: 1.3rem;
            }
            
            .sentence-input {
                font-size: 1.1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .game-info {
                flex-direction: column;
                gap: 15px;
            }
            
            .controls {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Ù„Ø¹Ø¨Ø© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</h1>
        <p class="subtitle">Ø§ÙƒØªØ¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙƒÙ…Ø§ ØªØ¸Ù‡Ø± Ù…Ø¹ Ø§Ù„ØªØ±Ø¬Ù…Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</p>
        
        <div class="sound-controls">
            <button class="sound-btn active" id="sound-btn">
                <span>ğŸ”Š</span> Ø§Ù„ØµÙˆØª
            </button>
            <button class="sound-btn active" id="music-btn">
                <span>ğŸµ</span> Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰
            </button>
        </div>
        
        <div class="volume-control">
            <span>ğŸ”Š</span>
            <input type="range" min="0" max="100" value="50" class="volume-slider" id="volume-slider">
            <span>ğŸ”ˆ</span>
        </div>
        
        <div class="game-info">
            <div class="score-container">
                <div class="score-label">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
                <div class="score-value">0</div>
            </div>
            
            <div class="level-container">
                <div class="level-label">Ø§Ù„Ù…Ø³ØªÙˆÙ‰</div>
                <div class="level-value">1</div>
            </div>
            
            <div class="streak-container">
                <div class="streak-label">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©</div>
                <div class="streak-value">0</div>
            </div>
        </div>
        
        <div class="game-area">
            <div class="sentence-container">
                <div class="instruction">Ø§ÙƒØªØ¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙƒÙ…Ø§ ØªØ¸Ù‡Ø± Ø¨Ø§Ù„Ø£Ø³ÙÙ„:</div>
                
                <div class="sentence-arabic" id="sentence-arabic">Ø£Ù†Ø§ Ø£Ø­Ø¨ Ø§Ù„ØªØ¹Ù„Ù…</div>
                <div class="sentence-english" id="sentence-english">I love learning</div>
                
                <div class="input-container">
                    <input type="text" class="sentence-input" id="sentence-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ù‡Ù†Ø§..." autocomplete="off">
                </div>
                
                <div class="hint-text" id="hint-text" style="display: none;"></div>
                
                <div class="feedback" id="feedback"></div>
                
                <div class="auto-next-indicator" id="auto-next-indicator">Ø³ÙŠØªÙ… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹...</div>
            </div>
            
            <div class="controls">
                <button class="control-btn pronounce-btn" id="pronounce-btn">
                    <span>ğŸ”Š</span> Ù†Ø·Ù‚ Ø§Ù„Ø¬Ù…Ù„Ø©
                </button>
                <button class="control-btn hint-btn" id="hint-btn">
                    <span>ğŸ’¡</span> Ù…Ø³Ø§Ø¹Ø¯Ø©
                </button>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>

    <audio id="background-music" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-game-show-suspense-waiting-667.mp3" type="audio/mpeg">
    </audio>

    <audio id="correct-sound">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
    </audio>

    <audio id="wrong-sound">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3" type="audio/mpeg">
    </audio>

    <audio id="level-up-sound">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" type="audio/mpeg">
    </audio>

    <audio id="click-sound">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>

    <audio id="typing-sound">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-keyboard-typing-1386.mp3" type="audio/mpeg">
    </audio>

    <script>
        // Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
        const sentences = [
            { arabic: "Ø£Ù†Ø§ Ø£Ø­Ø¨ Ø§Ù„ØªØ¹Ù„Ù…", english: "I love learning" },
            { arabic: "Ø§Ù„Ù‚Ø·Ø© ØªÙ„Ø¹Ø¨ ÙÙŠ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø©", english: "The cat plays in the garden" },
            { arabic: "Ø§Ù„Ø´Ù…Ø³ Ù…Ø´Ø±Ù‚Ø© Ø§Ù„ÙŠÙˆÙ…", english: "The sun is shining today" },
            { arabic: "Ø£Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙƒÙ„ ÙŠÙˆÙ…", english: "I go to school every day" },
            { arabic: "Ø£Ù…ÙŠ ØªØ·Ø¨Ø® Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ù„Ø°ÙŠØ°", english: "My mother cooks delicious food" },
            { arabic: "Ø£Ø¨ÙŠ ÙŠØ¹Ù…Ù„ ÙÙŠ Ø§Ù„Ù…Ø³ØªØ´ÙÙ‰", english: "My father works in the hospital" },
            { arabic: "Ø§Ù„ÙƒØªØ§Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§ÙˆÙ„Ø©", english: "The book is on the table" },
            { arabic: "Ø£Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡ Ø¹Ù†Ø¯Ù…Ø§ Ø£Ø¹Ø·Ø´", english: "I drink water when I am thirsty" },
            { arabic: "Ø§Ù„Ø·Ù‚Ø³ Ø¬Ù…ÙŠÙ„ ÙÙŠ Ø§Ù„Ø±Ø¨ÙŠØ¹", english: "The weather is beautiful in spring" },
            { arabic: "Ø£Ù„Ø¹Ø¨ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ù…Ø¹ Ø£ØµØ¯Ù‚Ø§Ø¦ÙŠ", english: "I play football with my friends" },
            { arabic: "Ø§Ù„Ø·ÙÙ„ ÙŠÙ‚Ø±Ø£ Ù‚ØµØ© Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…", english: "The child reads a story before sleeping" },
            { arabic: "Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø³Ø±ÙŠØ¹Ø©", english: "The new car is fast" },
            { arabic: "Ø£Ø¯Ø±Ø³ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©", english: "I study English language" },
            { arabic: "Ø§Ù„Ø²Ù‡ÙˆØ± Ù…ØªÙØªØ­Ø© ÙÙŠ Ø§Ù„Ø±Ø¨ÙŠØ¹", english: "The flowers are blooming in spring" },
            { arabic: "Ø£ÙƒÙ„Øª ØªÙØ§Ø­Ø© Ù„Ù„ØºØ¯Ø§Ø¡", english: "I ate an apple for lunch" },
            { arabic: "Ø§Ù„Ø·Ø§Ù„Ø¨ ÙŠØ¬ÙŠØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø¤Ø§Ù„", english: "The student answers the question" },
            { arabic: "Ø§Ù„Ù…Ø¹Ù„Ù… ÙŠØ´Ø±Ø­ Ø§Ù„Ø¯Ø±Ø³", english: "The teacher explains the lesson" },
            { arabic: "Ø§Ù„ÙƒÙ„Ø¨ ÙŠÙ„Ø¹Ø¨ Ø¨Ø§Ù„ÙƒØ±Ø©", english: "The dog plays with the ball" },
            { arabic: "Ø£Ø´Ø§Ù‡Ø¯ Ø§Ù„ØªÙ„ÙØ²ÙŠÙˆÙ† Ø§Ù„Ù…Ø³Ø§Ø¡", english: "I watch television in the evening" },
            { arabic: "Ø§Ù„Ø£Ø·ÙØ§Ù„ ÙŠØºÙ†ÙˆÙ† ÙÙŠ Ø§Ù„Ø­ÙÙ„Ø©", english: "The children sing at the party" },
            { arabic: "Ø£Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø³ÙˆÙ‚ Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø·Ø¹Ø§Ù…", english: "I go to the market to buy food" },
            { arabic: "Ø§Ù„Ø³Ù…Ø§Ø¡ Ø²Ø±Ù‚Ø§Ø¡ ÙˆØµØ§ÙÙŠØ©", english: "The sky is blue and clear" },
            { arabic: "Ø£Ù‚Ø±Ø£ ÙƒØªØ§Ø¨Ø§Ù‹ Ù…Ø«ÙŠØ±Ø§Ù‹", english: "I read an exciting book" },
            { arabic: "Ø§Ù„Ø·Ø§Ø¦Ø±Ø© ØªØ­Ù„Ù‚ ÙÙŠ Ø§Ù„Ø³Ù…Ø§Ø¡", english: "The airplane flies in the sky" },
            { arabic: "Ø£Ø²Ø±Ø¹ Ø§Ù„ÙˆØ±ÙˆØ¯ ÙÙŠ Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø©", english: "I plant roses in the garden" },
            { arabic: "Ø§Ù„Ø³Ù…ÙƒØ© ØªØ³Ø¨Ø­ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡", english: "The fish swims in the water" },
            { arabic: "Ø£ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ø¥Ù„Ù‰ ØµØ¯ÙŠÙ‚ÙŠ", english: "I write a letter to my friend" },
            { arabic: "Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø¬Ù…ÙŠÙ„Ø© ÙˆÙ…Ø±ÙŠØ­Ø©", english: "The music is beautiful and relaxing" },
            { arabic: "Ø£Ø±ÙƒØ¨ Ø§Ù„Ø¯Ø±Ø§Ø¬Ø© ÙÙŠ Ø§Ù„ØµØ¨Ø§Ø­", english: "I ride the bicycle in the morning" },
            { arabic: "Ø§Ù„Ø·Ø§Ù‡ÙŠ ÙŠØ­Ø¶Ø± Ø§Ù„Ø·Ø¹Ø§Ù… Ø§Ù„Ø´Ù‡ÙŠ", english: "The chef prepares delicious food" },
            { arabic: "Ø£Ø²ÙˆØ± Ø¬Ø¯ØªÙŠ ÙÙŠ Ø§Ù„Ø¹Ø·Ù„Ø©", english: "I visit my grandmother on vacation" },
            { arabic: "Ø§Ù„Ù†Ø¬ÙˆÙ… ØªÙ„Ù…Ø¹ ÙÙŠ Ø§Ù„Ù„ÙŠÙ„", english: "The stars shine at night" },
            { arabic: "Ø£Ø­Ù„Ù… Ø¨Ø£Ù† Ø£ØµØ¨Ø­ Ø·Ø¨ÙŠØ¨Ø§Ù‹", english: "I dream of becoming a doctor" },
            { arabic: "Ø§Ù„Ø·Ø§Ø¦Ø± ÙŠØºØ±Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø¬Ø±Ø©", english: "The bird sings on the tree" },
            { arabic: "Ø£Ø¹Ù…Ù„ Ø¨Ø¬Ø¯ Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£Ø­Ù„Ø§Ù…ÙŠ", english: "I work hard to achieve my dreams" },
            { arabic: "Ø§Ù„Ø¨Ø­Ø± ÙˆØ§Ø³Ø¹ ÙˆØ¹Ù…ÙŠÙ‚", english: "The sea is wide and deep" },
            { arabic: "Ø£Ø­Ø¨ Ø§Ù„Ø³ÙØ± Ø¥Ù„Ù‰ Ø¨Ù„Ø§Ø¯ Ø¬Ø¯ÙŠØ¯Ø©", english: "I love traveling to new countries" },
            { arabic: "Ø§Ù„Ù‚Ù…Ø± Ù…Ø¶ÙŠØ¡ ÙÙŠ Ø§Ù„Ø¸Ù„Ø§Ù…", english: "The moon is bright in the dark" },
            { arabic: "Ø£ØªØ¹Ù„Ù… Ù…Ù† Ø£Ø®Ø·Ø§Ø¦ÙŠ", english: "I learn from my mistakes" },
            { arabic: "Ø§Ù„ÙˆØ±Ø¯Ø© Ø­Ù…Ø±Ø§Ø¡ ÙˆØ¬Ù…ÙŠÙ„Ø©", english: "The rose is red and beautiful" },
            { arabic: "Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ÙˆÙ‚Øª Ù…Ø¹ Ø¹Ø§Ø¦Ù„ØªÙŠ", english: "I enjoy time with my family" },
            { arabic: "Ø§Ù„Ø«Ù„Ø¬ ÙŠØºØ·ÙŠ Ø§Ù„Ø¬Ø¨Ø§Ù„", english: "The snow covers the mountains" },
            { arabic: "Ø£Ø­Ø¨ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰", english: "I love listening to music" },
            { arabic: "Ø§Ù„ÙØ±Ø§Ø´Ø© ØªØ·ÙŠØ± Ø¨ÙŠÙ† Ø§Ù„Ø²Ù‡ÙˆØ±", english: "The butterfly flies among the flowers" },
            { arabic: "Ø£Ù…Ø§Ø±Ø³ Ø§Ù„Ø±ÙŠØ§Ø¶Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹", english: "I exercise daily" },
            { arabic: "Ø§Ù„Ù‚Ù‡ÙˆØ© Ø³Ø§Ø®Ù†Ø© ÙˆÙ„Ø°ÙŠØ°Ø©", english: "The coffee is hot and delicious" },
            { arabic: "Ø£Ø­Ø¨ Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†", english: "I love helping others" },
            { arabic: "Ø§Ù„Ø·Ø±ÙŠÙ‚ Ø·ÙˆÙŠÙ„ ÙˆÙ…ØªØ¹Ø±Ø¬", english: "The road is long and winding" },
            { arabic: "Ø£Ù‚Ø±Ø£ Ø§Ù„Ø¬Ø±ÙŠØ¯Ø© ÙƒÙ„ ØµØ¨Ø§Ø­", english: "I read the newspaper every morning" },
            { arabic: "Ø§Ù„Ø·ÙÙ„ Ø§Ù„ØµØºÙŠØ± ÙŠØ¨ØªØ³Ù…", english: "The little child smiles" }
        ];

        // Ø¹Ù†Ø§ØµØ± DOM
        const sentenceArabicElement = document.getElementById('sentence-arabic');
        const sentenceEnglishElement = document.getElementById('sentence-english');
        const sentenceInput = document.getElementById('sentence-input');
        const hintText = document.getElementById('hint-text');
        const feedbackElement = document.getElementById('feedback');
        const pronounceBtn = document.getElementById('pronounce-btn');
        const hintBtn = document.getElementById('hint-btn');
        const soundBtn = document.getElementById('sound-btn');
        const musicBtn = document.getElementById('music-btn');
        const volumeSlider = document.getElementById('volume-slider');
        const scoreValue = document.querySelector('.score-value');
        const levelValue = document.querySelector('.level-value');
        const streakValue = document.querySelector('.streak-value');
        const progressBar = document.getElementById('progress-bar');
        const autoNextIndicator = document.getElementById('auto-next-indicator');

        // Ø¹Ù†Ø§ØµØ± Ø§Ù„ØµÙˆØª
        const backgroundMusic = document.getElementById('background-music');
        const correctSound = document.getElementById('correct-sound');
        const wrongSound = document.getElementById('wrong-sound');
        const levelUpSound = document.getElementById('level-up-sound');
        const clickSound = document.getElementById('click-sound');
        const typingSound = document.getElementById('typing-sound');

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let currentSentenceIndex = 0;
        let score = 0;
        let level = 1;
        let streak = 0;
        let soundEnabled = true;
        let musicEnabled = true;
        let volume = 0.5;
        let questionsAnswered = 0;
        const questionsPerLevel = 10;
        let autoNextTimer = null;
        let usedSentences = [];
        let currentSentence = null;
        let hintsUsed = 0;

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function initGame() {
            setupEventListeners();
            setupAudio();
            generateSentence();
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØµÙˆØª
        function setupAudio() {
            // ØªØ¹ÙŠÙŠÙ† Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            backgroundMusic.volume = volume;
            correctSound.volume = volume;
            wrongSound.volume = volume;
            levelUpSound.volume = volume;
            clickSound.volume = volume;
            typingSound.volume = volume * 0.3;
            
            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ø§Ù„Ø®Ù„ÙÙŠØ©
            if (musicEnabled) {
                backgroundMusic.play().catch(e => console.log("Auto-play prevented:", e));
            }
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
        function setupEventListeners() {
            sentenceInput.addEventListener('input', handleInput);
            sentenceInput.addEventListener('keypress', handleKeyPress);
            pronounceBtn.addEventListener('click', pronounceSentence);
            hintBtn.addEventListener('click', showHint);
            soundBtn.addEventListener('click', toggleSound);
            musicBtn.addEventListener('click', toggleMusic);
            volumeSlider.addEventListener('input', updateVolume);
        }

        // ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµÙˆØª
        function updateVolume() {
            volume = volumeSlider.value / 100;
            backgroundMusic.volume = volume;
            correctSound.volume = volume;
            wrongSound.volume = volume;
            levelUpSound.volume = volume;
            clickSound.volume = volume;
            typingSound.volume = volume * 0.3;
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø¬Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
        function generateSentence() {
            // Ø¥Ù„ØºØ§Ø¡ Ø£ÙŠ Ù…Ø¤Ù‚Øª Ø³Ø§Ø¨Ù‚
            if (autoNextTimer) {
                clearTimeout(autoNextTimer);
            }
            
            // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
            autoNextIndicator.style.display = 'none';
            hintText.style.display = 'none';
            hintsUsed = 0;
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚Ù„
            sentenceInput.value = '';
            sentenceInput.className = 'sentence-input';
            feedbackElement.textContent = '';
            feedbackElement.className = 'feedback';
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ù…Ù„Ø© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ù„Ù… ØªØ³ØªØ®Ø¯Ù… Ù…Ù† Ù‚Ø¨Ù„
            let availableSentences = sentences.filter(sentence => !usedSentences.includes(sentence.arabic));
            if (availableSentences.length === 0) {
                // Ø¥Ø°Ø§ Ø§Ø³ØªØ®Ø¯Ù…Ù†Ø§ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¬Ù…Ù„ØŒ Ù†Ø¹ÙŠØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§
                usedSentences = [];
                availableSentences = sentences;
            }
            
            const randomIndex = Math.floor(Math.random() * availableSentences.length);
            currentSentence = availableSentences[randomIndex];
            usedSentences.push(currentSentence.arabic);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶ - Ø¥Ø¸Ù‡Ø§Ø± ÙƒÙ„ Ù…Ù† Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
            sentenceArabicElement.textContent = currentSentence.arabic;
            sentenceEnglishElement.textContent = currentSentence.english;
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            updateProgressBar();
            
            // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
            sentenceInput.focus();
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        function handleInput() {
            // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„ÙƒØªØ§Ø¨Ø©
            if (soundEnabled && sentenceInput.value.length > 0) {
                typingSound.currentTime = 0;
                typingSound.play();
            }
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¶ØºØ· Ø§Ù„Ù…ÙØ§ØªÙŠØ­
        function handleKeyPress(e) {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        function checkAnswer() {
            const userAnswer = sentenceInput.value.trim();
            const correctAnswer = currentSentence.english;
            
            if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                sentenceInput.className = 'sentence-input correct';
                feedbackElement.textContent = 'Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø£Ø­Ø³Ù†Øª! ğŸ‰';
                feedbackElement.classList.add('correct');
                score += 10;
                streak++;
                
                // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ù†Ø¬Ø§Ø­
                playCorrectSound();
            } else {
                // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                sentenceInput.className = 'sentence-input incorrect';
                feedbackElement.textContent = 'Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                feedbackElement.classList.add('incorrect');
                streak = 0;
                
                // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø®Ø·Ø£
                playWrongSound();
                return;
            }
            
            questionsAnswered++;
            updateScore();
            updateStreak();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ø­Ø§Ù† ÙˆÙ‚Øª Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
            if (questionsAnswered % questionsPerLevel === 0) {
                level++;
                updateLevel();
                playLevelUpSound();
            }
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
            autoNextIndicator.style.display = 'block';
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ø¨Ø¹Ø¯ 2 Ø«ÙˆØ§Ù†ÙŠ
            autoNextTimer = setTimeout(generateSentence, 2000);
        }

        // Ù†Ø·Ù‚ Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
        function pronounceSentence() {
            playClickSound();
            if (soundEnabled) {
                const utterance = new SpeechSynthesisUtterance(currentSentence.english);
                utterance.lang = 'en-US';
                utterance.rate = 0.8;
                utterance.volume = volume;
                speechSynthesis.speak(utterance);
            }
        }

        // Ø¹Ø±Ø¶ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function showHint() {
            playClickSound();
            hintsUsed++;
            
            if (hintsUsed === 1) {
                // Ø¥Ø¸Ù‡Ø§Ø± Ø£ÙˆÙ„ Ø­Ø±Ù Ù…Ù† ÙƒÙ„ ÙƒÙ„Ù…Ø©
                const words = currentSentence.english.split(' ');
                const hint = words.map(word => word.charAt(0) + '_'.repeat(word.length - 1)).join(' ');
                hintText.textContent = `Ù…Ø³Ø§Ø¹Ø¯Ø©: ${hint}`;
                hintText.style.display = 'block';
                score = Math.max(0, score - 2);
            } else if (hintsUsed === 2) {
                // Ø¥Ø¸Ù‡Ø§Ø± Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª
                const wordCount = currentSentence.english.split(' ').length;
                hintText.textContent = `Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: ${wordCount}`;
                score = Math.max(0, score - 3);
            }
            
            updateScore();
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØµÙˆØª
        function toggleSound() {
            playClickSound();
            soundEnabled = !soundEnabled;
            soundBtn.classList.toggle('active', soundEnabled);
            soundBtn.innerHTML = soundEnabled ? 
                '<span>ğŸ”Š</span> Ø§Ù„ØµÙˆØª' : 
                '<span>ğŸ”‡</span> Ø§Ù„ØµÙˆØª';
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰
        function toggleMusic() {
            playClickSound();
            musicEnabled = !musicEnabled;
            musicBtn.classList.toggle('active', musicEnabled);
            musicBtn.innerHTML = musicEnabled ? 
                '<span>ğŸµ</span> Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰' : 
                '<span>ğŸ”‡</span> Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰';
            
            if (musicEnabled) {
                backgroundMusic.play();
            } else {
                backgroundMusic.pause();
            }
        }

        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ù†Ù‚Ø±
        function playClickSound() {
            if (soundEnabled) {
                clickSound.currentTime = 0;
                clickSound.play();
            }
        }

        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
        function playCorrectSound() {
            if (soundEnabled) {
                correctSound.currentTime = 0;
                correctSound.play();
            }
        }

        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø©
        function playWrongSound() {
            if (soundEnabled) {
                wrongSound.currentTime = 0;
                wrongSound.play();
            }
        }

        // ØªØ´ØºÙŠÙ„ ØµÙˆØª Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        function playLevelUpSound() {
            if (soundEnabled) {
                levelUpSound.currentTime = 0;
                levelUpSound.play();
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†ØªÙŠØ¬Ø©
        function updateScore() {
            scoreValue.textContent = score;
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        function updateLevel() {
            levelValue.textContent = level;
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©
        function updateStreak() {
            streakValue.textContent = streak;
            // ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØªØªØ§Ù„ÙŠØ©
            if (streak >= 5) {
                streakValue.style.color = '#38a169';
            } else if (streak >= 3) {
                streakValue.style.color = '#d69e2e';
            } else {
                streakValue.style.color = '#e53e3e';
            }
        }

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
        function updateProgressBar() {
            const progress = ((questionsAnswered % questionsPerLevel) / questionsPerLevel) * 100;
            progressBar.style.width = `${progress}%`;
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        initGame();
    </script>
</body>
</html>