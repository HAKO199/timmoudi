<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ù„Ø¹Ø¨Ø© ØµØ­ Ø£Ù… Ø®Ø·Ø£ â€” Ø§Ø³ØªÙˆØ¯ÙŠÙˆ</title>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#071026; --card:#0f1724; --muted:#9aa7bf; --accent:#7c5cff;
    --correct:#16a34a; --wrong:#ef4444; --timer:#ffd460; --text:#e9eef8;
    --glass: rgba(255,255,255,0.03);
  }
  *{box-sizing:border-box}
  body{
    margin:0; min-height:100vh; font-family:'Tajawal',sans-serif;
    background:
      radial-gradient(800px 300px at 10% 10%, rgba(124,92,255,0.06), transparent 6%),
      linear-gradient(180deg,var(--bg), #04111f 70%);
    color:var(--text); display:flex; align-items:center; justify-content:center;
    padding:20px;
  }

  /* layout */
  .wrap{ width:100%; max-width:980px; display:grid; grid-template-columns: 1fr 360px; gap:20px; align-items:start; }
  header{ grid-column:1/-1; display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:6px; }
  h1{ margin:0; font-size:20px }
  .top-info{ color:var(--muted); font-size:14px }

  /* main card */
  .card{
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.06));
    padding:18px; border-radius:12px; box-shadow:0 20px 60px rgba(2,6,23,0.6);
    border:1px solid rgba(255,255,255,0.03);
  }

  .qbox{
    padding:24px; border-radius:12px; background:linear-gradient(180deg,#071428,#07243a);
    min-height:140px; display:flex; align-items:center; justify-content:center;
    font-size:20px; font-weight:700; text-align:center; color:var(--text);
    position:relative; overflow:hidden; box-shadow: 0 12px 30px rgba(0,0,0,0.6);
  }

  /* timer */
  .timer-wrap{ display:flex; align-items:center; gap:14px; margin-bottom:12px }
  .timer-circle{ width:92px; height:92px; border-radius:50%; display:flex; align-items:center; justify-content:center;
    background: conic-gradient(var(--timer) 0deg, rgba(255,255,255,0.04) 0deg);
    box-shadow: 0 10px 30px rgba(255,200,60,0.04), inset 0 -8px 18px rgba(0,0,0,0.3);
    transition: transform .12s;
  }
  .timer-inner{ width:74px; height:74px; border-radius:50%;
    background: linear-gradient(180deg,#021d2d,#063547); display:flex; align-items:center; justify-content:center;
    color:var(--timer); font-weight:900; font-size:20px; border:2px solid rgba(255,255,255,0.03); }
  .timer-inner.warn{ color:#ff6b6b; transform:scale(1.06); box-shadow:0 8px 30px rgba(255,80,80,0.12) }

  /* buttons */
  .buttons{ display:flex; gap:12px; margin-top:14px }
  .btn{ flex:1; padding:12px; border-radius:10px; border:0; font-weight:800; cursor:pointer; font-size:16px; }
  .btn.true{ background: linear-gradient(90deg,var(--correct),#34d399); color:#042016; box-shadow:0 10px 30px rgba(20,200,100,0.06) }
  .btn.false{ background: linear-gradient(90deg,var(--wrong),#fb7185); color:#380606; box-shadow:0 10px 30px rgba(240,60,60,0.06) }

  .feedback{ margin-top:12px; height:30px; font-weight:800; text-align:center; font-size:18px }
  .feedback.correct { color:var(--correct); text-shadow:0 6px 24px rgba(20,200,100,0.08) }
  .feedback.wrong { color:var(--wrong); text-shadow:0 6px 24px rgba(240,60,60,0.08) }

  /* right column - stats */
  .side { display:flex; flex-direction:column; gap:12px; align-items:stretch; position:sticky; top:20px; }
  .panel { background: linear-gradient(180deg,#051628,#082a43); padding:14px; border-radius:10px; border:1px solid var(--glass); box-shadow:0 10px 30px rgba(0,0,0,0.5); }
  .stat { font-weight:800; color:var(--muted); display:flex; justify-content:space-between; gap:8px; align-items:center; }
  .stat strong{ color:var(--text); font-size:18px }

  /* glow animations */
  .glow-correct { animation: glowGreen 900ms ease both; }
  .glow-wrong { animation: glowRed 900ms ease both; }
  @keyframes glowGreen { 0%{ box-shadow:0 0 0 rgba(20,200,100,0) } 50%{ box-shadow:0 0 40px rgba(20,200,100,0.18) } 100%{ box-shadow:0 0 0 rgba(20,200,100,0) } }
  @keyframes glowRed { 0%{ box-shadow:0 0 0 rgba(240,60,60,0) } 50%{ box-shadow:0 0 40px rgba(240,60,60,0.18) } 100%{ box-shadow:0 0 0 rgba(240,60,60,0) } }

  /* start / end overlays */
  .overlay { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg, rgba(1,6,20,0.6), rgba(0,0,0,0.7)); z-index:999; }
  .menu { background:linear-gradient(180deg,#081428,#0b2a4a); padding:26px; border-radius:14px; width:90%; max-width:720px; text-align:center; border:1px solid rgba(255,255,255,0.04); box-shadow:0 20px 80px rgba(0,0,0,0.7) }
  .menu h2{ margin:0 0 14px 0 }
  .menu p{ color:var(--muted); margin-bottom:18px }
  .bigbtn{ padding:14px 28px; font-size:18px; border-radius:12px; border:0; cursor:pointer; font-weight:800; background:linear-gradient(90deg,var(--accent),#ff9a60); color:#031; box-shadow:0 12px 40px rgba(124,92,255,0.12) }

  /* responsive */
  @media(max-width:980px){ .wrap{ grid-template-columns:1fr } .side{ position:static } }
</style>
</head>
<body>

<div class="wrap">
  <header>
    <div>
      <h1>âœ… Ù„Ø¹Ø¨Ø© ØµØ­ Ø£Ù… Ø®Ø·Ø£ â€” ØªØ­Ø¯Ù‘ÙŠ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h1>
      <div class="top-info">Ø§Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù…Ø¹ Ø¹Ø¯Ù‘Ø§Ø¯ Ø²Ù…Ù†ÙŠ ÙˆÙ…Ø¤Ø«Ø±Ø§Øª Ù…Ù…ØªØ¹Ø©</div>
    </div>
    <div class="top-info" id="bestNow">Ø£Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ù…Ø­ÙÙˆØ¸Ø©: 0</div>
  </header>

  <!-- main -->
  <div class="card" id="mainCard">
    <div class="timer-wrap">
      <div style="flex:1">
        <div style="color:var(--muted); font-weight:700; margin-bottom:6px">Ø§Ù„Ø³Ø¤Ø§Ù„ <span id="qIndex">0</span> / <span id="qTotal">0</span></div>
        <div id="qProgress" style="height:8px;background:rgba(255,255,255,0.03);border-radius:6px;overflow:hidden">
          <div id="qProgressBar" style="height:100%; width:0%; background:linear-gradient(90deg,var(--accent),#ffd36b)"></div>
        </div>
      </div>

      <div style="display:flex;align-items:center;">
        <div class="timer-circle" id="timerCircle">
          <div class="timer-inner" id="timerInner">15</div>
        </div>
      </div>
    </div>

    <div class="qbox" id="qbox">Ø§Ø¶ØºØ· Ø§Ø¨Ø¯Ø£ Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</div>

    <div class="buttons">
      <button class="btn true" id="btnTrue">âœ”ï¸ ØµØ­</button>
      <button class="btn false" id="btnFalse">âœ–ï¸ Ø®Ø·Ø£</button>
    </div>

    <div class="feedback" id="feedback"></div>
  </div>

  <!-- side stats -->
  <aside class="side">
    <div class="panel">
      <div class="stat">Ø§Ù„Ù†Ù‚Ø§Ø·: <strong id="score">0</strong></div>
      <div class="stat">Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: <strong id="remaining">0</strong></div>
      <div style="height:12px"></div>
      <div style="display:flex; gap:8px;">
        <button class="bigbtn" id="startBtn" style="flex:1">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
        <button class="bigbtn" id="resetBest" style="flex:1; background:linear-gradient(90deg,#ff7b7b,#ffb2b2); color:#3a0202">Ù…Ø³Ø­ Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©</button>
      </div>
    </div>

    <div class="panel">
      <div style="font-weight:800; color:var(--muted); margin-bottom:8px">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</div>
      <div style="color:var(--muted); line-height:1.6; font-size:14px">
        â€¢ ÙƒÙ„ Ø³Ø¤Ø§Ù„ 15 Ø«Ø§Ù†ÙŠØ©<br>
        â€¢ ØµØ­ÙŠØ­ +10 Ù†Ù‚Ø§Ø·ØŒ Ø®Ø·Ø£ -5 Ù†Ù‚Ø§Ø·<br>
        â€¢ ØªØ­ÙØ¸ Ø£Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ù…Ø­Ù„ÙŠØ§Ù‹
      </div>
    </div>
  </aside>
</div>

<!-- overlays -->
<div class="overlay" id="startOverlay">
  <div class="menu">
    <h2>ğŸ‰ Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„ØµØ­ Ø£Ù… Ø§Ù„Ø®Ø·Ø£!</h2>
    <p>Ù‡Ù„ Ø£Ù†Øª Ø¬Ø§Ù‡Ø²ØŸ Ù„Ø¯ÙŠÙƒ 15 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„. Ø¬Ù…Ø¹ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ù†Ù‚Ø§Ø· â€” ÙˆØ§Ù‡Ø²Ù… Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©!</p>
    <button class="bigbtn" id="overlayStart">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù†</button>
  </div>
</div>

<div class="overlay" id="endOverlay" style="display:none">
  <div class="menu" id="endMenu">
    <h2 id="endTitle">Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
    <p id="endText" style="color:var(--muted)"></p>
    <div style="display:flex; gap:12px; justify-content:center; margin-top:16px">
      <button class="bigbtn" id="playAgain">Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰</button>
      <button class="bigbtn" id="closeEnd" style="background:linear-gradient(90deg,#9aa4ff,#d3d6ff); color:#031">Ø¥ØºÙ„Ø§Ù‚</button>
    </div>
  </div>
</div>

<!-- sounds -->
<audio id="soundCorrect" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
<audio id="soundWrong" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
<audio id="soundTimeout" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
<audio id="soundEnd" src="https://actions.google.com/sounds/v1/cartoon/clang.ogg"></audio>

<script>
/* ---------------------------
   Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© â€” 100 Ø³Ø¤Ø§Ù„ (ØµØ­/Ø®Ø·Ø£)
   ÙƒÙ„ Ø¹Ù†ØµØ±: { q: 'Ø§Ù„Ù†Øµ', a: true/false }
   --------------------------- */
const questionsBank = [
  { q:'Ø§Ù„Ø´Ù…Ø³ Ù†Ø¬Ù…Ø© ÙˆÙ„ÙŠØ³Øª ÙƒÙˆÙƒØ¨Ø§Ù‹', a:true },
  { q:'Ø§Ù„Ù‚Ù…Ø± ÙŠØµØ¯ÙØ± Ø¶ÙˆØ¡Ø§Ù‹ Ù…Ù† Ù†ÙØ³Ù‡', a:false },
  { q:'Ø§Ù„Ù…Ø§Ø¡ ÙŠØºÙ„ÙŠ Ø¹Ù†Ø¯ 100 Ø¯Ø±Ø¬Ø© Ù…Ø¦ÙˆÙŠØ© (Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø³Ø·Ø­ Ø§Ù„Ø¨Ø­Ø±)', a:true },
  { q:'Ø§Ù„Ø²Ø±Ø§ÙØ© Ø£Ù‚ØµØ± Ù…Ù† Ø§Ù„Ù‚Ø·Ø©', a:false },
  { q:'Ø§Ù„Ù†Ø­Ù„Ø© Ù‚Ø§Ø¯Ø±Ø© Ø¹Ù„Ù‰ ØµÙ†Ø¹ Ø§Ù„Ø¹Ø³Ù„', a:true },
  { q:'Ø§Ù„ØªÙ…Ø³Ø§Ø­ Ø·Ø§Ø¦Ø±', a:false },
  { q:'Ø§Ù„Ø£Ø±Ø¶ Ù…Ø³Ø·Ø­Ø©', a:false },
  { q:'Ø§Ù„Ø°Ù‡Ø¨ Ù…Ø¹Ø¯Ù† Ø«Ù…ÙŠÙ†', a:true },
  { q:'Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ù„Ø¯ÙŠÙ‡ Ø®Ù…Ø³Ø© Ø­ÙˆØ§Ø³ Ø£Ø³Ø§Ø³ÙŠØ©', a:true },
  { q:'Ø§Ù„Ø«Ù„Ø¬ ÙŠØ³Ø®Ù† ÙÙˆÙ‚ Ø¯Ø±Ø¬Ø© Ø§Ù„ØºÙ„ÙŠØ§Ù†', a:false },
  { q:'Ø§Ù„ÙƒØªØ§Ø¨ ÙŠØ³ØªØ®Ø¯Ù… Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©', a:true },
  { q:'Ø§Ù„ÙÙŠÙ„ Ø£ØµØºØ± Ù…Ù† Ø§Ù„ÙØ£Ø±', a:false },
  { q:'Ø§Ù„Ø¨Ø±Ù‚ ÙŠØ³Ø¨Ù‚ Ø§Ù„Ø±Ø¹Ø¯ Ø¯Ø§Ø¦Ù…Ø§', a:true },
  { q:'Ø§Ù„Ø±ÙŠÙ†ØºØªÙˆÙ† Ø§Ù„ØµÙˆØªÙŠ Ù‡Ùˆ Ø¬Ù‡Ø§Ø² Ø·Ø¨ÙŠ', a:false },
  { q:'Ø§Ù„ØµÙˆØª ÙŠÙ†ØªÙ‚Ù„ Ø£Ø³Ø±Ø¹ ÙÙŠ Ø§Ù„Ù‡ÙˆØ§Ø¡ Ù…Ù†Ù‡ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡', a:false },
  { q:'Ø§Ù„Ù…Ø­Ù…ÙˆÙ„ ÙŠØ®Ø²Ù† Ø¨ÙŠØ§Ù†Ø§Øª', a:true },
  { q:'Ø§Ù„Ø¨Ø­Ø± Ù…Ø§Ù„Ø­', a:true },
  { q:'Ø§Ù„Ø¹Ø³Ù„ Ù„Ø²Ø¬ ÙˆØ­Ù„Ùˆ Ø§Ù„Ù…Ø°Ø§Ù‚', a:true },
  { q:'Ø§Ù„Ø³Ù…Ùƒ ÙŠØªÙ†ÙØ³ Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙƒØ§Ù„Ø¥Ù†Ø³Ø§Ù†', a:false },
  { q:'Ø§Ù„Ø·ÙŠÙˆØ± ØªØ·ÙŠØ± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø¬Ù†Ø­Ø©', a:true },
  { q:'Ø§Ù„Ø«Ù„Ø¬ Ù†ÙˆØ¹ Ù…Ù† Ø§Ù„ØµØ®ÙˆØ±', a:false },
  { q:'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ØªÙƒØªØ¨ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±', a:true },
  { q:'Ø§Ù„Ø£Ù‚Ù…Ø§Ø± Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ© ØªØ·ÙŠØ± ÙÙŠ Ø§Ù„ÙØ¶Ø§Ø¡', a:true },
  { q:'Ø§Ù„Ø´Ø¬Ø±Ø© ØªÙ†ØªØ¬ Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†', a:true },
  { q:'Ø§Ù„Ø³ÙŠØ§Ø±Ø© ØªØªØ­Ø±Ùƒ Ø¨Ø¯ÙˆÙ† ÙˆÙ‚ÙˆØ¯ Ø£Ø¨Ø¯Ø§Ù‹', a:false },
  { q:'Ø§Ù„Ù‚Ù…Ø­ ÙŠØ³ØªØ®Ø¯Ù… Ù„ØµÙ†Ø¹ Ø§Ù„Ø®Ø¨Ø²', a:true },
  { q:'Ø§Ù„Ù…Ù„Ø­ Ø­Ù„Ùˆ Ø§Ù„Ù…Ø°Ø§Ù‚', a:false },
  { q:'Ø§Ù„Ø·ÙŠÙˆØ± ØªÙ„Ø¯ ØµØºØ§Ø±Ø§Ù‹ Ø£Ø­ÙŠØ§Ø¡Ù‹ Ù…Ø«Ù„ Ø§Ù„Ù‚Ø·Ø·', a:false },
  { q:'Ø§Ù„Ø¹Ø³Ù„ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙØ³Ø¯ Ø³Ø±ÙŠØ¹Ø§ Ø¥Ø°Ø§ Ø®Ø²Ù‘Ù† Ø¨Ø´ÙƒÙ„ Ù…Ù†Ø§Ø³Ø¨', a:false },
  { q:'Ø§Ù„ÙƒØ±Ø© Ø§Ù„Ø£Ø±Ø¶ÙŠØ© ØªØ¯ÙˆØ± Ø­ÙˆÙ„ Ù…Ø­ÙˆØ±Ù‡Ø§', a:true },
  { q:'Ø§Ù„Ù…ÙˆØ² ÙØ§ÙƒÙ‡Ø©', a:true },
  { q:'Ø§Ù„Ø²Ø¬Ø§Ø¬ Ù…Ø±Ù† Ø¬Ø¯Ø§Ù‹', a:false },
  { q:'Ø§Ù„Ø·Ø§Ù‚Ø© Ù„Ø§ ØªÙÙ†Ù‰ ÙˆÙ„Ø§ ØªØ³ØªØ­Ø¯Ø« Ù…Ù† Ø¹Ø¯Ù…', a:true },
  { q:'Ø§Ù„Ø·Ø§Ø¦Ø±Ø© ØªØ·ÙŠØ± Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯ÙØ¹ ÙˆØ±ÙØ¹ Ø§Ù„Ø£Ø¬Ù†Ø­Ø©', a:true },
  { q:'Ø§Ù„Ø¨Ø­Ø±ÙŠØ© Ù„Ø§ ØªØªØ·Ù„Ø¨ Ù…ÙŠØ§Ù‡ Ù„Ù„Ø³Ø¨Ø§Ø­Ø©', a:false },
  { q:'Ø§Ù„Ø¨Ø±ØªÙ‚Ø§Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙÙŠØªØ§Ù…ÙŠÙ† Ø³ÙŠ', a:true },
  { q:'Ø§Ù„Ø±ÙˆØ¨ÙˆØªØ§Øª Ù„Ø§ ØªØ­ØªØ§Ø¬ Ù„Ø¨Ø±Ù…Ø¬Ø©', a:false },
  { q:'Ø§Ù„Ø£ÙˆÙƒØ³Ø¬ÙŠÙ† Ø¶Ø±ÙˆØ±ÙŠ Ù„Ù„ØªÙ†ÙØ³ Ù„Ø¯Ù‰ Ù…Ø¹Ø¸Ù… Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª', a:true },
  { q:'Ø§Ù„Ø¯Ø¨ Ù‚Ø· ØµØºÙŠØ±', a:false },
  { q:'Ø§Ù„Ø«Ù„Ø¬ ÙŠØªÙƒÙˆÙ† Ù…Ù† Ù…Ø§Ø¡ Ù…ØªØ¬Ù…Ø¯', a:true },
  { q:'Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ØªÙÙƒØªØ¨ Ù…Ù† Ø§Ù„ÙŠÙ…ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø±', a:false },
  { q:'Ø§Ù„Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ© Ù…ØµÙ†ÙˆØ¹Ø© Ù…Ù† Ø­Ø¨ÙˆØ¨ Ø§Ù„ÙƒØ§ÙƒØ§Ùˆ', a:true },
  { q:'Ø§Ù„Ù‚Ù…Ø­ ÙŠÙ†Ù…Ùˆ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡ ÙÙ‚Ø·', a:false },
  { q:'Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø®ÙÙŠÙ ÙˆØ³Ù‡Ù„ Ø§Ù„Ø­Ù…Ù„', a:true },
  { q:'Ø§Ù„Ù†Ø¬ÙˆÙ… ØªØ´Ø¨Ù‡ Ø§Ù„Ø´Ù…Ø³ Ù„ÙƒÙ† ÙÙŠ Ù…Ø³Ø§ÙØ§Øª Ø¨Ø¹ÙŠØ¯Ø©', a:true },
  { q:'Ø§Ù„Ù†Ø¬ÙˆÙ… Ù„Ø§ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ØºØ§Ø²Ø§Øª', a:false },
  { q:'Ø§Ù„Ø³ÙŠØ§Ø±Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© ØªØ¹Ù…Ù„ Ø¨Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©', a:true },
  { q:'Ø§Ù„Ù†Ù…Ù„ Ø­ÙŠÙˆØ§Ù† ÙƒØ¨ÙŠØ± Ø§Ù„Ø­Ø¬Ù…', a:false },
  { q:'Ø§Ù„ÙÙˆØ§ÙƒÙ‡ Ù…ØµØ¯Ø± Ù„Ù„ÙÙŠØªØ§Ù…ÙŠÙ†Ø§Øª', a:true },
  { q:'Ø§Ù„Ø¨Ø±ÙƒØ§Ù† Ù„Ø§ ÙŠØ·Ù„Ù‚ Ø­Ù…ÙÙ… Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø´Ø§Ø·', a:false },
  { q:'Ø§Ù„Ø³Ù…Ùƒ ÙŠØ¹ÙŠØ´ ÙÙŠ Ø§Ù„Ù…Ø§Ø¡ ÙÙ‚Ø·', a:true },
  { q:'Ø§Ù„ØµØ­Ø±Ø§Ø¡ Ø¹Ø§Ø¯Ø© ØªÙƒÙˆÙ† Ø®ØµØ¨Ø© ÙˆÙ…Ù…Ø·Ø±Ø©', a:false },
  { q:'Ø§Ù„Ø´ØªØ§Ø¡ Ø£Ø¨Ø±Ø¯ Ù…Ù† Ø§Ù„ØµÙŠÙ ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ù…Ù†Ø§Ø·Ù‚', a:true },
  { q:'Ø§Ù„Ø«Ù„Ø¬ Ø³Ø§Ø®Ù†', a:false },
  { q:'Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙŠØªÙƒÙˆÙ† Ù…Ù† ØºØ§Ø²Ø§Øª Ù…Ø®ØªÙ„ÙØ©', a:true },
  { q:'Ø§Ù„Ø°Ø¨Ø§Ø¨Ø© ÙƒØ¨ÙŠØ±Ø© ÙƒØ­Ø¬Ù… Ø§Ù„Ø·Ø§Ø¦Ø±', a:false },
  { q:'Ø§Ù„Ù‚Ù‡ÙˆØ© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…Ø§Ø¯Ø© Ø§Ù„ÙƒØ§ÙÙŠÙŠÙ†', a:true },
  { q:'Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª ÙŠØ¹ÙˆØ¯ Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø±Ù† Ø§Ù„ØªØ§Ø³Ø¹ Ø¹Ø´Ø±', a:false },
  { q:'Ø§Ù„Ø¨ÙŠØ§Ù†Ùˆ Ø¢Ù„Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ©', a:true },
  { q:'Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙŠÙ…Ù„Ùƒ Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙÙƒÙŠØ± Ø¨Ø°Ø§ØªÙ‡ Ø¨Ø¯ÙˆÙ† Ø¨Ø±Ù…Ø¬Ø©', a:false },
  { q:'Ø§Ù„Ù…Ø§Ø¡ ÙŠØªØ¨Ø®Ø± Ø¹Ù†Ø¯ ØªØ³Ø®ÙŠÙ†Ù‡', a:true },
  { q:'Ø§Ù„Ø°Ù‡Ø¨ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØ¢ÙƒÙ„ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø¨Ø§Ù„Ù…Ø§Ø¡', a:false },
  { q:'Ø§Ù„Ù†Ø­Ù„ ÙŠØ³Ø§Ø¹Ø¯ Ø§Ù„Ù†Ø¨Ø§ØªØ§Øª Ø¨Ø§Ù„ØªÙ„Ù‚ÙŠØ­', a:true },
  { q:'Ø§Ù„Ø²ÙŠØª ÙŠØ·ÙÙˆ Ø¹Ù„Ù‰ Ø³Ø·Ø­ Ø§Ù„Ù…Ø§Ø¡', a:true },
  { q:'Ø§Ù„Ø«Ù„ÙˆØ¬ ØªØªØ³Ø§Ù‚Ø· ÙÙŠ Ø§Ù„ØµÙŠÙ Ø¹Ø§Ø¯Ø©', a:false },
  { q:'Ø§Ù„ÙƒØªØ¨ ØªØ­ÙˆÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¹Ø±ÙØ©', a:true },
  { q:'Ø§Ù„Ø³Ù…Ùƒ ÙŠÙ…Ø´ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶', a:false },
  { q:'Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ù…ÙƒØ§Ù† Ù„Ù„ØªØ¹Ù„Ù…', a:true },
  { q:'Ø§Ù„ØµØ®ÙˆØ± ØªØ°ÙˆØ¨ Ø¹Ù†Ø¯ Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø© Ø§Ù„ØºØ±ÙØ©', a:false },
  { q:'Ø§Ù„Ø£Ø³Ø¯ Ø­ÙŠÙˆØ§Ù† Ù…ÙØªØ±Ø³', a:true },
  { q:'Ø§Ù„Ø®Ø¶Ø±ÙˆØ§Øª ØºÙŠØ± Ù…ÙÙŠØ¯Ø© Ù„Ù„Ø¬Ø³Ù…', a:false },
  { q:'Ø§Ù„Ø±ÙŠØ§Ø­ ØªØªØ­Ø±Ùƒ Ø¨Ø³Ø¨Ø¨ Ø§Ø®ØªÙ„Ø§ÙØ§Øª Ø§Ù„Ø¶ØºØ· Ø§Ù„Ø¬ÙˆÙŠ', a:true },
  { q:'Ø§Ù„Ø¬Ø¨Ù† Ø­Ù„Ùˆ Ø¨Ø·Ø¨ÙŠØ¹ØªÙ‡', a:false },
  { q:'Ø§Ù„Ù‚Ù…Ø± ÙŠØ¯ÙˆØ± Ø­ÙˆÙ„ Ø§Ù„Ø£Ø±Ø¶', a:true },
  { q:'Ø§Ù„Ø´Ù…Ø¨Ø§Ù†Ø²ÙŠ Ù…Ù† Ø§Ù„Ø«Ø¯ÙŠÙŠØ§Øª', a:true },
  { q:'Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø·Ø±ÙŠ ÙƒØ§Ù„Ù…Ø·Ø§Ø·', a:false },
  { q:'Ø§Ù„Ø´Ù…Ø¹Ø© ØªØ¶ÙŠØ¡ Ø¨ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø§ÙƒØ³Ø¬ÙŠÙ†', a:true },
  { q:'Ø§Ù„Ø²Ø±Ø§ÙØ© Ù„Ø§ ØªÙ…Ù„Ùƒ Ø±Ù‚Ø¨Ø©', a:false },
  { q:'Ø§Ù„Ø£Ø³Ù†Ø§Ù† ØªØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ Ù…Ø¶Øº Ø§Ù„Ø·Ø¹Ø§Ù…', a:true },
  { q:'Ø§Ù„ÙˆØ±Ø¯Ø© Ø²Ù‡Ø±Ø©', a:true },
  { q:'Ø§Ù„Ø·ÙŠÙˆØ± Ù„Ø§ ØªØ¨Ù†ÙŠ Ø£Ø¹Ø´Ø§Ø´Ø§', a:false }
];

/* ---------- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ù…ØªØºÙŠØ±Ø§Øª ---------- */
let questions = []; // Ø³ÙŠØªÙ… Ø®Ù„Ø·Ù‡Ø§
let current = 0;
let score = 0;
const TOTAL = questionsBank.length;
const TIME_PER_QUESTION = 15; // Ø«ÙˆØ§Ù†ÙŠ
let timeLeft = TIME_PER_QUESTION;
let timerInterval = null;

/* ---------- Ø¹Ù†Ø§ØµØ± DOM ---------- */
const qbox = document.getElementById('qbox');
const btnTrue = document.getElementById('btnTrue');
const btnFalse = document.getElementById('btnFalse');
const feedback = document.getElementById('feedback');
const scoreEl = document.getElementById('score');
const remainingEl = document.getElementById('remaining');
const qIndexEl = document.getElementById('qIndex');
const qTotalEl = document.getElementById('qTotal');
const timerInner = document.getElementById('timerInner');
const timerCircle = document.getElementById('timerCircle');
const qProgressBar = document.getElementById('qProgressBar');
const bestNow = document.getElementById('bestNow');

const startOverlay = document.getElementById('startOverlay');
const overlayStart = document.getElementById('overlayStart');
const startBtn = document.getElementById('startBtn');

const endOverlay = document.getElementById('endOverlay');
const endTitle = document.getElementById('endTitle');
const endText = document.getElementById('endText');
const playAgain = document.getElementById('playAgain');
const closeEnd = document.getElementById('closeEnd');

const resetBest = document.getElementById('resetBest');

const sndCorrect = document.getElementById('soundCorrect');
const sndWrong = document.getElementById('soundWrong');
const sndTimeout = document.getElementById('soundTimeout');
const sndEnd = document.getElementById('soundEnd');

/* ---------- ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø© ---------- */
function shuffle(arr){ return arr.slice().sort(()=>Math.random()-0.5); }
function updateBestDisplay(){
  const b = Number(localStorage.getItem('tf_best') || 0);
  bestNow.textContent = 'Ø£Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ù…Ø­ÙÙˆØ¸Ø©: ' + b;
}
function saveBestIfNeeded(){
  const best = Number(localStorage.getItem('tf_best') || 0);
  if(score > best){
    localStorage.setItem('tf_best', score);
    updateBestDisplay();
  }
}

/* ---------- Ø¹Ø±Ø¶ Ø³Ø¤Ø§Ù„ ---------- */
function showQuestion(){
  if(current >= questions.length){
    endGame();
    return;
  }
  const item = questions[current];
  qbox.textContent = item.q;
  feedback.textContent = '';
  qIndexEl.textContent = current + 1;
  qTotalEl.textContent = questions.length;
  remainingEl.textContent = questions.length - (current + 1);
  updateScore();
  resetTimer();
  updateProgressBar();
  // remove glow classes
  qbox.classList.remove('glow-correct','glow-wrong');
}

/* ---------- Ø§Ù„Ù…Ø¤Ù‚Ù‘Øª ---------- */
function startTimer(){
  clearInterval(timerInterval);
  timeLeft = TIME_PER_QUESTION;
  updateTimerUI();
  timerInterval = setInterval(()=>{
    timeLeft--;
    updateTimerUI();
    if(timeLeft <= 5 && timeLeft > 0){
      timerInner.classList.add('warn');
      // ØµÙˆØª ØªÙ†Ø¨ÙŠÙ‡ Ø®ÙÙŠÙ ÙÙŠ Ø¢Ø®Ø± 5 Ø«ÙˆØ§Ù†ÙŠ (Ù…Ø±Ø§Øª Ù…ØªØ¹Ø§Ù‚Ø¨Ø©) â€” ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ù…Ø²Ø¹Ø¬Ø§ Ù„Ø°Ø§ ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª ÙŠÙ…Ù†Ø¹
      sndTimeout.currentTime = 0;
      sndTimeout.play().catch(()=>{});
    } else {
      timerInner.classList.remove('warn');
    }
    if(timeLeft <= 0){
      clearInterval(timerInterval);
      onTimeout();
    }
  }, 1000);
}
function resetTimer(){ startTimer(); }
function updateTimerUI(){
  const pct = (TIME_PER_QUESTION - timeLeft) / TIME_PER_QUESTION;
  const deg = Math.round(pct * 360);
  timerCircle.style.background = `conic-gradient(var(--timer) ${deg}deg, rgba(255,255,255,0.04) ${deg}deg)`;
  timerInner.textContent = timeLeft;
}

/* ---------- Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ---------- */
function giveFeedback(correct){
  if(correct){
    feedback.textContent = 'âœ”ï¸ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©';
    feedback.className = 'feedback correct';
    qbox.classList.add('glow-correct');
    sndCorrect.currentTime = 0; sndCorrect.play().catch(()=>{});
  } else {
    feedback.textContent = 'âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©';
    feedback.className = 'feedback wrong';
    qbox.classList.add('glow-wrong');
    sndWrong.currentTime = 0; sndWrong.play().catch(()=>{});
  }
}

function answerSelected(val){
  if(current >= questions.length) return;
  clearInterval(timerInterval);
  const correct = questions[current].a;
  if(val === correct){
    score += 10;
    giveFeedback(true);
  } else {
    score = Math.max(0, score - 5);
    giveFeedback(false);
  }
  updateScore();
  current++;
  // Ø¹Ø±Ø¶ Ø§Ù„ØªØ£Ø«ÙŠØ± Ø«Ù… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
  setTimeout(()=> showQuestion(), 900);
}

/* ---------- ÙˆÙ‚Øª Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø³Ø¤Ø§Ù„ ---------- */
function onTimeout(){
  giveFeedback(false);
  sndTimeout.currentTime = 0; sndTimeout.play().catch(()=>{});
  // Ø®ØµÙ… Ù†Ù‚Ø§Ø· Ø¹Ù„Ù‰ Ù†ÙØ§Ø¯ Ø§Ù„ÙˆÙ‚Øª
  score = Math.max(0, score - 5);
  updateScore();
  current++;
  setTimeout(()=> showQuestion(), 900);
}

/* ---------- Ø§Ù„ØªÙ‚Ø¯Ù… Ùˆ Ø§Ù„Ù†Ù‚Ø§Ø· ---------- */
function updateScore(){ scoreEl.textContent = score; }
function updateProgressBar(){
  const progress = ((current) / questions.length) * 100;
  qProgressBar.style.width = progress + '%';
}

/* ---------- Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© ---------- */
function endGame(){
  clearInterval(timerInterval);
  saveBestIfNeeded();
  sndEnd.currentTime = 0; sndEnd.play().catch(()=>{});
  endTitle.textContent = 'Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©';
  const best = Number(localStorage.getItem('tf_best') || 0);
  endText.innerHTML = `Ù†ØªÙŠØ¬ØªÙƒ: <strong style="color:var(--accent)">${score}</strong> Ù†Ù‚Ø·Ø©<br>Ø£Ø¹Ù„Ù‰ Ù†ØªÙŠØ¬Ø© Ù…Ø­Ù„ÙŠØ©: <strong style="color:var(--accent)">${best}</strong>`;
  endOverlay.style.display = 'flex';
}

/* ---------- Ø¨Ø¯Ø¡ / Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„ ---------- */
function startGame(){
  // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆÙ…Ø¨Ø§Ø´Ø±Ø© Ø§Ù„Ø¨Ø¯Ø¡
  questions = shuffle(questionsBank);
  current = 0;
  score = 0;
  updateScore();
  updateBestDisplay();
  startOverlay.style.display = 'none';
  endOverlay.style.display = 'none';
  showQuestion();
}

/* ---------- Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø£Ø²Ø±Ø§Ø± ---------- */
btnTrue.addEventListener('click', ()=> answerSelected(true));
btnFalse.addEventListener('click', ()=> answerSelected(false));
overlayStart.addEventListener('click', ()=> startGame());
startBtn.addEventListener('click', ()=> startOverlay.style.display = 'flex'); // same overlay
playAgain.addEventListener('click', ()=> { endOverlay.style.display='none'; startGame(); });
closeEnd.addEventListener('click', ()=> { endOverlay.style.display='none'; startOverlay.style.display='flex'; });
resetBest.addEventListener('click', ()=> { localStorage.removeItem('tf_best'); updateBestDisplay(); });

/* ---------- ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø±Ø¶ ---------- */
function init(){
  qTotalEl.textContent = questionsBank.length;
  qIndexEl.textContent = 0;
  remainingEl.textContent = questionsBank.length;
  timerInner.textContent = TIME_PER_QUESTION;
  updateBestDisplay();
  // Ø§ÙØªØ­ Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
  startOverlay.style.display = 'flex';
}
init();

</script>
</body>
</html>
